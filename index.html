<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All the Fishes</title>
    <script src="https://pixijs.download/release/pixi.js"></script>

</head>
<body>

    <script>
        //The App 
        const app = new PIXI.Application({
            width:640,
            height:480,
            backgroundColor: 0x000000
        });

        //Add view to document 
        document.body.appendChild(app.view);


        //Add our first sprite
        let fish1 = PIXI.Sprite.from("img/goldfish.png");
         fish1.anchor.set(.5);
         fish1.scale.set(.5); 
         fish1.scale.x *= -1;
         fish1.x = 150;
         fish1.y = 150;
         fish1.tint = 0xFF9999;
        

        //Add it to the stage!
        app.stage.addChild(fish1);


         //Add our first sprite
         let fish2 = PIXI.Sprite.from("img/goldfish.png");
         fish2.anchor.set(.5);
         fish2.scale.set(.5); 
         fish2.scale.x *= -1.;
         fish2.x = 400;
         fish2.y = 300;
         fish2.tint = 0x99FF99;
         

        //Add it to the stage!
        //app.stage.addChild(fish2);

        //Create new container
        let my_container = new PIXI.Container();
            my_container.addChild(fish1);
            my_container.addChild(fish2);

        //Add container to stage
        app.stage.addChild(my_container);

        let counter = 0;

        //Animation loop!
        function loop() {

            counter++;

            fish1.y = 200 + Math.sin(counter/40) * 30;
            fish1.scale.x = .25 + Math.sin(counter/2)/400;

            fish2.y = 300 + Math.sin(counter/50) * 30;
            fish2.scale.x = -.25 + Math.sin(counter/2)/400;

            requestAnimationFrame(loop);

        }
        loop();

    </script>
    
</body>
</html>