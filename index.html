<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All the Fishes</title>
    <script src="https://pixijs.download/release/pixi.js"></script>

    
</head>
<body>

   
    <script>
        //The App 
        const app = new PIXI.Application({
            width: 640, 
            height: 480,
            backgroundColor: 0x088F8F,
        });

        // Add view to document
        document.body.appendChild(app.view);

        // Add background sprite
        const background = PIXI.Sprite.from("img/background.png");
        background.width = app.screen.width; // Set the width to match the screen width
        background.height = app.screen.height; // Set the height to match the screen height
        app.stage.addChild(background);

        //Add our first sprite
        let fish1 = PIXI.Sprite.from("img/goldfish.png");
         fish1.anchor.set(.5);
         fish1.scale.set(.5); 
         fish1.scale.x *= -1;
         fish1.x = 150;
         fish1.y = 150;
         fish1.tint = 0xFF9999;
        

        //Add it to the stage!
        app.stage.addChild(fish1);


         //Add our second sprite
         let fish2 = PIXI.Sprite.from("img/goldfish.png");
         fish2.anchor.set(.6);
         fish2.scale.set(.5); 
         fish2.scale.x *= -1;
         fish2.x = 400;
         fish2.y = 300;
         fish2.tint = 0x99FF99;
         

        //Add it to the stage!
        //app.stage.addChild(fish2);

         //Add our third sprite
         let fish3 = PIXI.Sprite.from("img/nemo.png");
         fish3.anchor.set(.5);
         fish3.scale.set(.5); 
         fish3.scale.x *= -1;
         fish3.x = 100;
         fish3.y = 100;
         fish3.tint = 0xFF9999;
        

        //Add it to the stage!
         app.stage.addChild(fish3);

           //Add our fourth sprite
           let seaweed = PIXI.Sprite.from("img/seaweed.png");
         seaweed.anchor.set(.5);
         seaweed.scale.set(.5); 
         seaweed.scale.x *= -1;
         seaweed.x = 450;
         seaweed.y = 450;
         seaweed.tint = 0xFF9999;
        

        //Add it to the stage!
         app.stage.addChild(seaweed);


        //Create new container
        let my_container = new PIXI.Container();
            my_container.addChild(fish1);
            my_container.addChild(fish2);
            my_container.addChild(fish3);
            my_container.addChild(seaweed); 

        //Add container to stage
        app.stage.addChild(my_container);

        let counter = 0;


        //Animation loop!
        function loop() {

            counter++;

            fish1.y = 200 + Math.sin(counter/40) * 30;
            fish1.scale.x = .25 + Math.sin(counter/2)/400;

            fish2.y = 300 + Math.sin(counter/50) * 30;
            fish2.scale.x = -.25 + Math.sin(counter/2)/400;

            const fish3XSpeed = 2; // Adjust the speed as needed
            const screenWidth = app.screen.width; // Get the width of the screen
            fish3.x = 50 + (counter * fish3XSpeed) % (screenWidth + 100);

            // Create a back-and-forth motion for fish3 by changing its scale
            fish3.scale.x = -0.5 + Math.sin(counter / 50) / 2;


            requestAnimationFrame(loop);

        }
        loop();

    </script>
    
</body>
</html>